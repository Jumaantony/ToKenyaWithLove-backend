{% extends "base.html" %}
{% load static %}
{% load social_share %}
{% load crispy_forms_tags %}
{%block title%} Detailed Blog Post {% endblock %}

{% block content%}

<div class="container-xxl ">

      <div class="row">
        <div class="col-md-8 mt-3">
            <h1 class="text-success text-capitalize font-weight-bold">
              {{ post.title }}
            </h1>
          <p class="text-muted font-italic">Post Tagged As: Success Story</p>
          <p>
           {{ post.body | striptags | linebreaks  }}
          </p>

          <!-- share btns -->

            <h6 class="d-inline-block">{% post_to_facebook "New Post: {{post.title }}. Check it out!" object_or_url %}</h6>
            <h6 class="d-inline-block">{% post_to_twitter "New Post: {{post.title }}. Check it out!" object_or_url %}</h6>
            <h6 class="d-inline-block">{% post_to_whatsapp object_or_url "" %}</h6>


          <h4 class="text-capitalize font-weight-bold mt-3 thoughts p-1">
            {% with comments.count as total_comments %}
              {{ total_comments }}  Thought {{ total_comments|pluralize}}
            {% endwith %}
          </h4>

          {% for comment in comments %}
            <div class="comment-cont ml-3 mt-2">
              <p class="text-muted font-italic font-weight-bold">
                Comment {{ forloop.counter }} by {{ comment.name}}/ {{comment.created}}
              </p>
              <p class="comment-body bg-success">
                {{comment.body | linebreaks }}
              </p>
            </div>

            <hr>
          {% endfor %}

          {% if new_comment %}
            <div class="alert alert-success" role="alert">
              Your comment has been submitted successfully but is still awaiting moderation
            </div>
          {% else %}

            <form method="Post" class="comment-form ml-3 p-1">

            <h3 class="font-weight-bold">Leave a Comment</h3>

            {{ comment_form | crispy }}
            {% csrf_token %}

            <button type="submit" class="btn btn-success mt-1">Comment</button>
          </form>
          {% endif %}

        </div>

        <div class="col-md-4">

          <form class="mt-3 mb-3 bg-light p-2">
              <input class="form-control" type="search" placeholder="Search" aria-label="Search">
              <button class="btn btn-outline-success mt-2 w-100 p-2 font-weight-bold" type="submit">Search</button>
          </form>

          <div class="similar-posts">

            <h2 class="text-capitalize font-weight-bold mt-3">Simmilar Posts</h2>

            <ul class="list-group list-group-flush">
              <li class="list-group-item">Cras justo odio</li>
              <li class="list-group-item">Dapibus ac facilisis in</li>
              <li class="list-group-item">Morbi leo risus</li>
              <li class="list-group-item">Porta ac consectetur ac</li>
              <li class="list-group-item">Vestibulum at eros</li>
            </ul>

          </div>

          <div class="most-commented-posts">

            <h2 class="text-capitalize font-weight-bold mt-3">Most Commented Posts</h2>

            <ul class="list-group list-group-flush">
              <li class="list-group-item">Cras justo odio</li>
              <li class="list-group-item">Dapibus ac facilisis in</li>
              <li class="list-group-item">Morbi leo risus</li>
              <li class="list-group-item">Porta ac consectetur ac</li>
              <li class="list-group-item">Vestibulum at eros</li>
            </ul>

          </div>

          <div class="tags">
            <h2 class="text-capitalize font-weight-bold mt-3">Tags</h2>
            <hr>

            <ul class="list-group list-group-flush">
              <li class="list-group-item">Cras justo odio</li>
              <li class="list-group-item">Dapibus ac facilisis in</li>
              <li class="list-group-item">Morbi leo risus</li>
              <li class="list-group-item">Porta ac consectetur ac</li>
              <li class="list-group-item">Vestibulum at eros</li>
            </ul>

          </div>
        </div>
      </div>

    </div>

{% endblock %}